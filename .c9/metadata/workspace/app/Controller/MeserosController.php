{"filter":false,"title":"MeserosController.php","tooltip":"/app/Controller/MeserosController.php","undoManager":{"mark":12,"position":12,"stack":[[{"group":"doc","deltas":[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":0},"end":{"row":26,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":0},"end":{"row":45,"column":2},"action":"insert","lines":["\tpublic function isAuthorized($user)","\t{","\t\tif($user['role'] == 'user')","\t\t{","\t\t\tif(in_array($this->action, array('add', 'index', 'view', 'searchjson', 'search')))","\t\t\t{","\t\t\t\treturn true;","\t\t\t}","\t\t\telse","\t\t\t{","\t\t\t\tif($this->Auth->user('id'))","\t\t\t\t{","\t\t\t\t\t$this->Session->setFlash('No puede acceder', 'default', array('class' => 'alert alert-danger'));","\t\t\t\t\t$this->redirect($this->Auth->redirect());","\t\t\t\t}","\t\t\t}","\t\t}","\t\t","\t\treturn parent::isAuthorized($user);","\t}"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":61},"end":{"row":30,"column":71},"action":"remove","lines":["searchjson"]},{"start":{"row":30,"column":61},"end":{"row":30,"column":62},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":62},"end":{"row":30,"column":63},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":63},"end":{"row":30,"column":64},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":64},"end":{"row":30,"column":65},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":69},"end":{"row":30,"column":75},"action":"remove","lines":["search"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":69},"end":{"row":30,"column":70},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":68},"end":{"row":30,"column":69},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":67},"end":{"row":30,"column":68},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":66},"end":{"row":30,"column":67},"action":"remove","lines":[","]}]}]]},"ace":{"folds":[],"scrolltop":2552,"scrollleft":0,"selection":{"start":{"row":30,"column":66},"end":{"row":30,"column":66},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":26,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1428990110685,"hash":"29c1496a7093bacf90e3d3c201a15a9a8d77a46f"}